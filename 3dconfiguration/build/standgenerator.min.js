!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("three")):"function"==typeof define&&define.amd?define(["exports","three"],e):e((t=t||self).generator={},t.THREE)}(this,function(t,x){"use strict";function v(t,e,a){var o=new x.MeshStandardMaterial({color:13421772}),s=new x.BoxBufferGeometry(.16,.01,.16);(o=new x.Mesh(s,o)).position.y=-a/2,o.position.z=M.depthWall,o.position.x=e,t.add(o)}function P(t,e,a){var o=100*t,t=100<o?1.5:1;return 85==o&&(o="085"),void 0!==a&&(t=a),{name:"GO LIGHTBOX "+o+" "+100*e,foot:t}}function d(t,e,a,o,s,i,r){var n,l,h,d=new x.BoxBufferGeometry(e-.01,a,M.depthWall),c=new x.MeshStandardMaterial({color:16777215}),p=new x.MeshStandardMaterial({color:13421772}),u=new x.MeshStandardMaterial;!1!==M.wallpaper&&(l=new x.CanvasTexture((n=M.wallpaper,l=document.createElement("CANVAS"),h=l.getContext("2d"),l.width=n.width,l.height=n.height,h.drawImage(n,0,0),l)),u.map=l,u.map.offset.set(r/(M.wallpaper.width/M.canvasScale),0),u.map.repeat.set(e/(M.wallpaper.width/M.canvasScale),a/(M.wallpaper.height/M.canvasScale)),u.needsUpdate=!0);var f=new x.Mesh(d,[c,c,c,c,u,p]);f.position.y=a/2,f.position.x=o,f.position.z=s,f.rotateY(i);var g=new x.MeshStandardMaterial({color:16724736});g.transparent=!0,g.opacity=0,e=Math.round(100*e)/100;var w=new Array;0<M.cabin&&2==M.walls?0==i?1.85==e?w=[1.85]:2.85==e?w=[.85,2]:3.85==e?w=[1.85,2]:4.85==e?w=[1.85,1,2]:5.85==e&&(w=[1.85,2,2]):1.85==e?w=[1,.85]:2.85==e?w=[1,1.85]:3.85==e?w=[1,.85,2]:4.85==e?w=[1,1.85,2]:5.85==e&&(w=[1,.85,2,2]):0<M.cabin&&3==M.walls?0==i?1.7==e?w=[.85,.85]:2.7==e?w=[.85,1.85]:3.7==e?w=[1.85,1.85]:4.7==e?w=[1.85,.85,2]:5.7==e&&(w=[1.85,2,1.85]):i==Math.PI/2?1.85==e?w=[1,.85]:2.85==e?w=[1,1.85]:3.85==e?w=[1,.85,2]:4.85==e?w=[1,1.85,2]:5.85==e&&(w=[1,.85,2,2]):1.85==e?w=[1.85]:2.85==e?w=[1,1.85]:3.85==e?w=2==M.length?[1,.85,2]:[1.85,2]:4.85==e?w=[1,1.85,2]:5.85==e&&(w=2==M.length?[1,.85,2,2]:[1.85,2,2]):.85==e?w=[.85]:1==e?w=[1]:1.7==e?w=[.85,.85]:1.85==e?w=[1.85]:2==e?w=[2]:2.7==e?w=[1.85,.85]:2.85==e?w=[.85,2]:3==e?w=[2,1]:3.7==e?w=[1.85,1.85]:3.85==e?w=[1.85,2]:4==e?w=[2,2]:4.7==e?w=[1.85,1,1.85]:4.85==e?w=[2,.85,2]:5==e?w=[2,1,2]:5.7==e?w=[1.85,2,1.85]:5.85==e?w=[2,1.85,2]:6==e&&(w=[2,2,2]);var b=!1;i==Math.PI/2&&(b=!0);for(var O=0,j=0;j<w.length;j++){var D=new x.BoxBufferGeometry(w[j],a+.01,M.depthWall+.01),m=new x.Mesh(D,g);m.userData=P(w[j],a),m.name=m.userData.name,m.isLightBox=!0,m.position.x=b?e/2-w[j]/2-O:-e/2+w[j]/2+O,O+=w[j],1<w[j]&&v(f,m.position.x,a),v(f,m.position.x-w[j]/2+.09,a),v(f,m.position.x+w[j]/2-.09,a);D=new x.BoxHelper(m,4342338);f.add(m),f.add(D)}t.add(f)}function c(t,e,a){var o=new x.BoxBufferGeometry(M.counterProps.width,M.counterProps.height,M.counterProps.depth),s=new x.MeshStandardMaterial({color:16777215}),i=new x.MeshStandardMaterial({color:16701285});return i.color=new x.Color(M.wallColor1),s=new x.Mesh(o,[s,s,s,s,i,i]),i=new x.BoxHelper(s,4342338),s.add(i),s.position.x=t-M.depthWall,s.position.y=M.counterProps.height/2,s.position.z=e-M.depthWall,s.rotateY(a),s}function p(t){var e="textOffset";t.fillStyle=M.fontColor,t.font=M.textSize/5+"px "+M.font;var a=M.textWall.split("\n"),o=0,s=M.textSize/5,i=M.dragOffset[e][0]*M.canvasScale;void 0!==M.dragObj[e]&&void 0!==M.dragObj[e].userData&&(i+=M.dragObj[e].userData.wallOffset*M.canvasScale);for(var r=M.dragOffset[e][1]*M.canvasScale,n=0;n<a.length;n++)t.fillText(a[n],i,r+(n+1)*s),t.measureText(a[n]).width>o&&(o=t.measureText(a[n]).width);M.printWall[e]={},M.printWall[e].imageX=o,M.printWall[e].imageY=M.textSize/5*a.length}function u(t,e){var a,o,s,i,r,n;!1!==M.fileLogo&&"logoOffset"==t||""!=M.textWall&&"textOffset"==t?(M.isCreateObj[t]=!1,void(n=a=0)!==M.dragObj[t]&&void 0!==M.dragObj[t].userData&&(a=M.dragObj[t].userData.wallOffset),void 0!==M.dragObj[t]&&void 0!==M.dragObj[t].userData&&(n=M.dragObj[t].userData.wall),M.dragGroup.remove(M.dragObj[t]),o=M.printWall[t].imageX,s=M.printWall[t].imageY,i=new x.BoxGeometry(o/M.canvasScale,s/M.canvasScale,.01),(r=new x.MeshStandardMaterial({color:16724736})).transparent=!0,r.opacity=0,r=new x.Mesh(i,r),(M.dragObj[t]=r).userData.name=t,r.userData.wallOffset=a,r.userData.x=o/M.canvasScale,r.userData.y=s/M.canvasScale,1==n?e=0:2==n?e=-Math.PI/2:3==n&&(e=Math.PI),n="textOffset"==t?.015:.01,e===Math.PI/2?(r.userData.wall=0,r.userData.offsetX=M.width/2-r.userData.x/2-M.depthWall,r.userData.offsetZ=-M.length/2+n,r.position.x=r.userData.offsetZ,r.position.z=r.userData.offsetX-M.dragOffset[t][0]):0===e?(r.userData.wall=1,r.userData.offsetX=-M.width/2+n,r.userData.offsetZ=-M.length/2+r.userData.x/2,r.position.x=r.userData.offsetZ+M.dragOffset[t][0],r.position.z=r.userData.offsetX):e===-Math.PI/2?(r.userData.wall=2,r.userData.offsetX=-M.width/2+r.userData.x/2,r.userData.offsetZ=M.length/2-n-M.depthWall,r.position.x=r.userData.offsetZ,r.position.z=r.userData.offsetX+M.dragOffset[t][0]):e===Math.PI&&(r.userData.wall=3,r.userData.offsetX=M.width/2-n,r.userData.offsetZ=M.length/2-r.userData.x/2,r.position.x=r.userData.offsetZ-M.dragOffset[t][0],r.position.z=r.userData.offsetX),r.userData.offsetY=M.height-s/2/M.canvasScale,r.position.y=r.userData.offsetY-M.dragOffset[t][1],r.rotateY(e),M.dragGroup.add(r)):(""==M.textWall&&"textOffset"==t||!1===M.fileLogo&&"logoOffset"==t)&&(t=t,void 0!==M.dragObj[t]&&(M.dragGroup.remove(M.dragObj[t]),M.dragObj[t]={},M.printWall[t]={},M.printWall[t].imageX=0,M.printWall[t].imageY=0,M.dragOffset[t][0]=0,M.dragOffset[t][1]=0))}function a(t){M.controls.enableRotate=!1,t.object.material.opacity=.4}function o(t){M.controls.enableRotate=!0,t.object.material.opacity=0,M.needsUpdate=!0}function s(t){var e=.01;void 0!==t.object.userData&&void 0!==t.object.userData.name&&"textOffset"==t.object.userData.name&&(e=.015),0==t.object.userData.wall?(t.object.position.x=t.object.userData.offsetZ,M.dragOffset[t.object.userData.name][0]=t.object.userData.offsetX-t.object.position.z,M.dragOffset[t.object.userData.name][1]=t.object.userData.offsetY-t.object.position.y,M.dragOffset[t.object.userData.name][0]>M.width-t.object.userData.x/2&&1<M.walls&&(t.object.userData.wall=1,t.object.userData.wallOffset=M.width,t.object.rotateY(Math.PI/2),t.object.userData.offsetX=-M.width/2+e,t.object.userData.offsetZ=-M.length/2+t.object.userData.x/2,t.object.position.x=t.object.userData.offsetZ,t.object.position.z=t.object.userData.offsetX,M.dragOffset[t.object.userData.name][0]=0)):1==t.object.userData.wall?(t.object.position.z=t.object.userData.offsetX,M.dragOffset[t.object.userData.name][0]=-(t.object.userData.offsetZ-t.object.position.x),M.dragOffset[t.object.userData.name][1]=t.object.userData.offsetY-t.object.position.y,M.dragOffset[t.object.userData.name][0]<-t.object.userData.x/2&&0<M.walls?(t.object.userData.wall=0,t.object.userData.wallOffset=0,t.object.rotateY(-Math.PI/2),t.object.userData.offsetX=M.width/2-t.object.userData.x/2,t.object.userData.offsetZ=-M.length/2+e,t.object.position.x=t.object.userData.offsetZ,t.object.position.z=-t.object.userData.offsetX):M.dragOffset[t.object.userData.name][0]>M.length-t.object.userData.x/2&&2<M.walls&&(t.object.userData.wall=2,t.object.userData.wallOffset+=M.length,t.object.rotateY(Math.PI/2),t.object.userData.offsetX=-M.width/2+t.object.userData.x/2,t.object.userData.offsetZ=M.length/2-e-M.depthWall,t.object.position.x=t.object.userData.offsetZ,t.object.position.z=t.object.userData.offsetX)):2==t.object.userData.wall?(t.object.position.x=t.object.userData.offsetZ,M.dragOffset[t.object.userData.name][0]=-(t.object.userData.offsetX-t.object.position.z),M.dragOffset[t.object.userData.name][1]=t.object.userData.offsetY-t.object.position.y,M.dragOffset[t.object.userData.name][0]<-t.object.userData.x/2&&1<M.walls?(t.object.userData.wall=1,t.object.userData.wallOffset-=M.length,t.object.rotateY(-Math.PI/2),t.object.userData.offsetX=-M.width/2+e,t.object.userData.offsetZ=-M.length/2+t.object.userData.x/2,t.object.position.x=-t.object.userData.offsetZ,t.object.position.z=t.object.userData.offsetX):M.dragOffset[t.object.userData.name][0]>M.width-t.object.userData.x/2&&3===M.walls&&(t.object.userData.wall=3,t.object.userData.wallOffset+=M.width,t.object.rotateY(Math.PI/2),t.object.userData.offsetX=M.width/2-e,t.object.userData.offsetZ=M.length/2-t.object.userData.x/2,t.object.position.x=t.object.userData.offsetZ,t.object.position.z=t.object.userData.offsetX)):3==t.object.userData.wall&&(t.object.position.z=t.object.userData.offsetX,M.dragOffset[t.object.userData.name][0]=t.object.userData.offsetZ-t.object.position.x,M.dragOffset[t.object.userData.name][1]=t.object.userData.offsetY-t.object.position.y,M.dragOffset[t.object.userData.name][0]<-t.object.userData.x/2&&2<M.walls&&(t.object.userData.wall=2,t.object.userData.wallOffset-=M.width,t.object.rotateY(-Math.PI/2),t.object.userData.offsetX=-M.width/2+t.object.userData.x/2,t.object.userData.offsetZ=M.length/2-e,t.object.position.x=t.object.userData.offsetZ,t.object.position.z=-t.object.userData.offsetX))}function e(){var o=new Object,s=new Object;function t(t,e){void 0===e&&(e=1),void 0===o[t]?o[t]=e:o[t]+=e}function e(){var t,e=new Array,a=new Array;for(t in o)0<o[t]&&(void 0!==s[t]?e.push(s[t]):e.push(t),a.push(Math.ceil(o[t])));return"?products="+e.join(",")+"&quantity="+a.join(",")}s["GO LIGHTBOX 085 200"]="GO-LB-085200-B",s["GO LIGHTBOX 100 200"]="GO-LB-100200-B",s["GO LIGHTBOX 185 200"]="GO-LB-185200-B",s["GO LIGHTBOX 200 200"]="GO-LB-200200-B",s["GO LIGHTBOX 085 225"]="GO-LB-085225-B",s["GO LIGHTBOX 100 225"]="GO-LB-100225-B",s["GO LIGHTBOX 185 225"]="GO-LB-185225-B",s["GO LIGHTBOX 200 225"]="GO-LB-200225-B",s["GO LIGHTBOX 085 250"]="GO-LB-085220-B",s["GO LIGHTBOX 100 250"]="GO-LB-100250-B",s["GO LIGHTBOX 185 250"]="GO-LB-185250-B",s["GO LIGHTBOX 200 250"]="GO-LB-200250-B",s["GO COUNTER L WHITE"]="GO-COUNTER-L",s["FUSSPLATTEN EINSEITIG"]="GO-FEET-ES",s["TÃœR SET"]="GO-DOOR",s["SYSTEMVERBINDER FLEX"]="GO-CONNECT-FLEX";var a=M.width,i=M.length;"I"==M.wallsName&&(a=M.length,i=M.width);for(var r=0;r<M.group.children.length;r++){!0===M.group.children[r].isLightBox&&(t(M.group.children[r].userData.name),void 0!==M.group.children[r].userData.foot&&t("FUSSPLATTEN EINSEITIG",M.group.children[r].userData.foot));for(var n=0;n<M.group.children[r].children.length;n++)!0===M.group.children[r].children[n].isLightBox&&(t(M.group.children[r].children[n].userData.name),void 0!==M.group.children[r].children[n].userData.foot&&t("FUSSPLATTEN EINSEITIG",M.group.children[r].children[n].userData.foot))}var l=M.wallsName+"-";switch(a){case 1:l+="A";break;case 2:l+="B";break;case 3:l+="C";break;case 4:l+="D";break;case 5:l+="E";break;case 6:l+="F"}return l+=i,0<M.cabin&&(l+="-K"),"L"==M.wallsName?t("SYSTEMVERBINDER FLEX",1):"U"==M.wallsName&&t("SYSTEMVERBINDER FLEX",2),0<M.cabin&&1<M.width&&1<M.length&&1<M.walls&&t("TÃœR SET",1),0<M.counter&&1<M.width&&1<M.length&&t("GO COUNTER L WHITE",M.counter),1==M.counter?l+="-C":2==M.counter&&(l+="-CC"),t(l,1),$("#oredr-info").html(e()),e()}var i,r,n,l,M={length:4,width:4,height:2,cabin:0,counter:0,style1:0,style2:0,depthWall:.15,walls:2,wallsName:"",countWalls:0,wallColor:"#fed765",wallColor1:"#fed765",wallColor2:"#fed765",opacityWall:.6,limits:{length:[1,6],width:[1,6],height:[2,2.5],walls:[1,3],cabin:[0,1],counter:[0,2],style1:[0,1],style2:[0,1],textSize:[10,1e3]},cabinProps:{width:1.85,depth:.85},counterProps:{width:1,depth:.4,height:1,offset:1},font:"sans-serif",fontColor:"#ff3300",textWall:"",textSize:100,wallpaper:!1,isUpdateWallpaper:!1,fileLogo:!1,logoScale:100,canvasScale:100,isClearDragObj:!1,submitUrl:"http://shopware6.pixlip.com/dvsn/quick-cart/add",logoOffset:[0,0],textOffset:[0,0],setLimits:function(){var t,e={walls:[[1,3]],length:[[1,6]],width:[[1,6]],cabin:[[0,1]],counter:[[0,2]]};for(t in 1==this.walls?(e.cabin.push([0,0]),this.length<2&&e.counter.push([0,0]),this.width<2&&e.counter.push([0,1]),0<this.counter&&e.length.push([2,6]),1<this.counter&&e.width.push([2,6]),1<this.counter&&this.length<=2&&this.width<=2&&e.walls.push([1,1]),0<this.counter&&1==this.width&&e.walls.push([1,1])):2==this.walls?((this.width<2||this.length<2)&&e.counter.push([0,0]),2==this.width&&2==this.length&&e.counter.push([0,1]),0<this.counter&&(e.length.push([2,6]),e.width.push([2,6]),this.length<3&&e.walls.push([1,2])),1<this.counter&&(2==this.width&&e.length.push([3,6]),2==this.length&&e.width.push([3,6]),this.length<4&&0==this.cabin&&e.walls.push([1,2])),(this.width<2||this.length<2)&&e.cabin.push([0,0]),0<this.cabin&&(0<this.counter&&(2==this.width&&e.length.push([3,6]),2==this.length&&e.width.push([3,6])),1<this.counter&&(e.length.push([3,6]),e.width.push([4,6]),this.length<3&&e.walls.push([1,2]),this.length<=4&&2==this.width&&e.walls.push([1,2]),3==this.length&&3==this.width&&e.walls.push([1,2])),2==this.width&&2==this.length&&e.counter.push([0,0]),this.width<=3&&this.length<=4&&e.counter.push([0,1]),e.width.push([2,6]),e.length.push([2,6]))):3==this.walls&&((this.width<2||this.length<=2)&&e.counter.push([0,0]),3==this.length&&0==this.cabin&&e.counter.push([0,1]),0<this.counter&&(e.length.push([3,6]),e.width.push([2,6])),1<this.counter&&0==this.cabin&&e.length.push([4,6]),e.length.push([2,6]),(this.width<3||this.length<2)&&e.cabin.push([0,0]),this.length<3&&this.width<3&&e.cabin.push([0,0]),0<this.cabin&&(1<this.counter&&(e.length.push([3,6]),e.width.push([3,6]),2==this.width&&e.length.push([5,6]),3==this.width&&e.length.push([4,6]),3==this.length&&e.width.push([4,6])),this.length<3&&e.cabin.push([0,0]),this.width<4&&e.cabin.push([0,0]),2==this.length&&e.width.push([3,6]),2==this.width&&e.length.push([3,6]),this.length<=4&&2==this.width&&e.counter.push([0,1]),3==this.length&&3==this.width&&e.counter.push([0,1]))),0<this.cabin&&(this.length<3&&this.width<3&&e.walls.push([2,2]),e.walls.push([2,3])),this.length<2&&e.walls.push([1,2]),e){this.limits[t][0]=e[t][0][0],this.limits[t][1]=e[t][0][1];for(var a=1;a<e[t].length;a++)this.limits[t][0]<e[t][a][0]&&(this.limits[t][0]=e[t][a][0]),this.limits[t][1]>e[t][a][1]&&(this.limits[t][1]=e[t][a][1])}},checkLimits:function(t,e){return t=("height"==e?parseFloat:parseInt)(t),void 0!==this.limits[e]&&(t<this.limits[e][0]?t=this.limits[e][0]:t>this.limits[e][1]&&(t=this.limits[e][1])),t},setState:function(t,e){return"object"==typeof t&&(void 0!==this[t.type]?("width"!=t.type&&"height"!=t.type&&"length"!=t.type||(this.isClearDragObj=!0),"style1"==t.type||"style2"==t.type||"textSize"==t.type||"logoScale"==t.type||"height"==t.type?(this[t.type]=this.checkLimits(t.value,t.type),"function"==typeof e&&e(this[t.type]),this.needsUpdate=!0):"walls"==t.type||"cabin"==t.type||"counter"==t.type||"width"==t.type||"length"==t.type?(this[t.type]=this.checkLimits(t.value,t.type),this.setLimits(),"function"==typeof e&&e(this[t.type]),this.needsUpdate=!0):(this[t.type]=t.value,this.needsUpdate=!0,this.isUpdateWallpaper=!0)):"loadfileLogo"==t.type?(this.fileLogo=t.value,this.needsUpdate=!0,this.isUpdateWallpaper=!0):"setColor"==t.type&&(this[t.name]=t.value,"trimColor"!=t.name&&"rollupColor"!=t.name||(this.isChangeColor=!0),this.needsUpdate=!0)),this},getScene:function(){},scene:null,group:null,texture:null,is_find_position:!1,holeGroup:null,baseUrl:"http://bydenis.com/3dconfiguration",controls:!0,needsUpdate:!0,needsUpdateCanvas:!1,printWall:{},dragObj:{},isCreateObj:{},dragOffset:{logoOffset:[0,0],textOffset:[0,0]},printHoles:!1},h=function(l){var h=new x.Group;!0===M.isClearDragObj&&(M.isClearDragObj=!1),function(i){var r=document.createElement("CANVAS"),t=0;0<M.walls&&(t+=M.width),1<M.walls&&(t+=M.length),2<M.walls&&(t+=M.width),t*=M.canvasScale;var e=M.height*M.canvasScale;r.width=t,r.height=e;var n,l=r.getContext("2d");l.fillStyle=M.wallColor1,l.fillRect(0,0,t,e),!1!==M.fileLogo?(n=new Image,(M.wallpaperImage=n).src=M.fileLogo,n.setAttribute("crossOrigin","anonymous"),n.onload=function(t){var e=M.logoScale/M.canvasScale/10,a=n.width*e,o=n.height*e,s="logoOffset";M.printWall[s]={},M.printWall[s].imageX=a,M.printWall[s].imageY=o;e=M.dragOffset.logoOffset[0];void 0!==M.dragObj[s]&&void 0!==M.dragObj[s].userData&&(e+=M.dragObj[s].userData.wallOffset),l.drawImage(this,parseInt(e*M.canvasScale),parseInt(M.dragOffset[s][1]*M.canvasScale),a,o),p(l),M.wallpaper=r,i()}):(p(l),M.wallpaper=r,i())}(function(){var t,e,a,o,s,i,r,n=0;M.isCreateObj.logoOffset=!0,M.isCreateObj.textOffset=!0,M.wallsName="",0<M.walls&&(o=0,e=-M.depthWall,1<M.walls&&(o=M.depthWall,e=-M.depthWall/2),d(h,M.width-o,M.height,-M.length/2-M.depthWall/2,e,Math.PI/2,n),void 0!==M.dragObj.logoOffset&&!M.isCreateObj.logoOffset||u("logoOffset",Math.PI/2),void 0!==M.dragObj.textOffset&&!M.isCreateObj.textOffset||u("textOffset",Math.PI/2),n+=M.width-o,M.wallsName="I"),1<M.walls&&(a=0,2<M.walls&&(a=M.depthWall),d(h,M.length-M.depthWall-a,M.height,-M.depthWall/2-a/2,-M.width/2-M.depthWall/2,0,n),void 0!==M.dragObj.logoOffset&&!M.isCreateObj.logoOffset||u("logoOffset",0),void 0!==M.dragObj.textOffset&&!M.isCreateObj.textOffset||u("textOffset",0),n+=M.length-M.depthWall-a,M.wallsName="L"),2<M.walls&&1<M.length&&(d(h,M.width-M.depthWall,M.height,M.length/2-M.depthWall/2-M.depthWall,-M.depthWall/2,-Math.PI/2,n),void 0!==M.dragObj.logoOffset&&!M.isCreateObj.logoOffset||u("logoOffset",-Math.PI/2),void 0!==M.dragObj.textOffset&&!M.isCreateObj.textOffset||u("textOffset",-Math.PI/2),n+=M.width-M.depthWall,M.wallsName="U"),M.isUpdateWallpaper=!1,i=h,0<M.cabin&&1<M.walls&&1<M.width&&1<M.length&&(M.walls<3||2<M.width||2<M.length)&&(s=M.cabinProps.width,M.length<=3&&(s=.85),t=!1,2==M.length&&3==M.walls&&(s=.85,t=!0),e=new x.BoxBufferGeometry(s-.01,M.height,M.depthWall),r=new x.MeshStandardMaterial({color:16777215}),(o=new x.MeshStandardMaterial({color:16701285})).color=new x.Color(M.wallColor1),a=new x.Mesh(e,[r,r,r,r,o,o]),n=new x.BoxHelper(a,4342338),a.add(n),a.position.y=M.height/2,a.position.x=-M.length/2+s/2,a.position.z=-M.width/2+M.cabinProps.depth+M.depthWall/2,2<=s&&v(a,0,M.height),v(a,s/2-.2,M.height),v(a,-s/2+.2,M.height),a.userData=P(s,M.height,.85==s?1:1.5),a.name=a.userData.name,a.isLightBox=!0,i.add(a),!0===t?(e=new x.BoxBufferGeometry(s-.01,M.height,M.depthWall),r=new x.MeshStandardMaterial({color:16777215}),(o=new x.MeshStandardMaterial({color:16701285})).color=new x.Color(M.wallColor1),a=new x.Mesh(e,[r,r,r,r,o,o]),n=new x.BoxHelper(a,4342338),a.add(n),a.position.y=M.height/2,a.position.x=-M.length/2+s/2*3,a.position.z=-M.width/2+M.cabinProps.depth+M.depthWall/2,a.userData=P(s,M.height,0),a.name=a.userData.name,a.isLightBox=!0,i.add(a)):(a=new x.BoxGeometry(M.cabinProps.depth-.01,M.height,M.depthWall),r=new x.Mesh(a,[r,r,r,r,o,o]),o=new x.BoxHelper(r,4342338),r.add(o),r.position.y=M.height/2,r.position.x=-M.length/2+s+M.depthWall/2,r.position.z=-M.width/2+M.cabinProps.depth/2,r.rotateY(Math.PI/2),r.userData=P(M.cabinProps.depth,M.height,0),r.name=r.userData.name,r.isLightBox=!0,i.add(r))),s=h,i=new x.BoxBufferGeometry(M.length,.01,M.width),r=new x.MeshStandardMaterial({color:4342338}),(r=new x.Mesh(i,r)).position.y=-.005,r.position.z=-M.depthWall,r.position.x=-M.depthWall,s.add(r),r=h,1<M.length&&(1==M.walls?(0<M.counter&&r.add(c(M.length/2-M.counterProps.depth/2,-M.width/2+M.counterProps.width/2,Math.PI/2)),2==M.counter&&r.add(c(M.length/2-M.counterProps.depth/2,M.width/2-M.counterProps.width/2,Math.PI/2))):2==M.walls?1==M.counter?r.add(c(M.length/2-M.counterProps.width/2,M.width/2-M.counterProps.width/2,Math.PI/4)):2==M.counter&&(0<M.cabin?1<M.width&&1<M.length&&(2==M.length?r.add(c(-M.length/2+M.counterProps.width/2+M.depthWall+.01,M.width/2-M.counterProps.depth/2,0)):r.add(c(M.length/2-M.counterProps.width/2-M.depthWall+.01-1,M.width/2-M.counterProps.depth/2,0)),2==M.width?r.add(c(M.length/2-M.counterProps.depth/2,-M.width/2+M.counterProps.width/2+M.depthWall+.01,Math.PI/2)):r.add(c(M.length/2-M.counterProps.depth/2,M.width/2-M.counterProps.width/2-M.depthWall-.01-.65,Math.PI/2))):(r.add(c(M.length/2-M.counterProps.depth/2,-M.width/2+M.counterProps.width/2+M.depthWall+.01,Math.PI/2)),r.add(c(-M.length/2+M.counterProps.width/2+M.depthWall+.01,M.width/2-M.counterProps.depth/2,0)))):3==M.walls&&(0<M.cabin?(0<M.counter&&r.add(c(M.length/2-M.counterProps.width/2-M.depthWall-.01,M.width/2-M.counterProps.depth/2,0)),2==M.counter&&(3==M.length&&3<M.width?r.add(c(M.length/2-M.counterProps.depth/2-M.depthWall-.01-M.counterProps.width,M.width/2-M.counterProps.width/2-M.counterProps.depth,Math.PI/2)):3<M.length&&r.add(c(M.length/2-M.counterProps.width/2-M.depthWall-.01-M.counterProps.width,M.width/2-M.counterProps.depth/2,0)))):(0<M.counter&&r.add(c(-M.length/2+M.counterProps.width/2+M.depthWall+.01,M.width/2-M.counterProps.depth/2,0)),2==M.counter&&r.add(c(M.length/2-M.counterProps.width/2-M.depthWall-.01,M.width/2-M.counterProps.depth/2,0))))),M.scene.remove(M.group),M.scene.add(h),M.group=h,M.needsUpdate=!1,l()})};function f(){!0===M.needsUpdate?h(function(){g()}):g()}function g(){l.update(),n.render(r,i),requestAnimationFrame(f)}t.init=function(){var t=document.getElementById("canvas-standgenerator");(n=new x.WebGLRenderer({antialias:!0,alpha:!0})).setPixelRatio(window.devicePixelRatio),n.setSize(t.clientWidth,t.clientHeight),i=new x.PerspectiveCamera(55,t.clientWidth/t.clientHeight,.1,2e3),(M.camera=i).position.y=.7*M.height,i.position.z=.9*M.length,i.position.x=.9*M.width,r=new x.Scene,M.scene=r,window.addEventListener("resize",function(){i.aspect=t.clientWidth/t.clientHeight,i.updateProjectionMatrix(),n.setSize(t.clientWidth,t.clientHeight)},!1),t.appendChild(n.domElement),function(t){var e=new x.SpotLight(16777187,.2);e.position.set(-200,50,200),e.angle=Math.PI,e.penumbra=!0,t.add(e);e=new x.SpotLight(16777215,.2);e.position.set(200,50,-200),e.angle=Math.PI,e.penumbra=!0;e=new x.SpotLight(16777215,.5);e.position.set(200,50,200),e.angle=Math.PI,e.penumbra=!0,t.add(e);e=new x.SpotLight(16777215,.4);e.position.set(-30,300,100),e.penumbra=!0,e.angle=Math.PI/4,t.add(e);e=new x.AmbientLight(12176895,.4);e.position.set(5e3,5e3,5e3),t.add(e)}(r),(l=new x.OrbitControls(i,n.domElement)).screenSpacePanning=!0,l.enableDamping=!0,l.dampingFactor=.08,l.enableZoom=!0,l.minPolarAngle=Math.PI/4,l.maxPolarAngle=Math.PI/2,l.minDistance=6,l.maxDistance=12,l.enablePan=!1,l.rotateSpeed=1.5,M.controls=l;var e=new x.Group;M.dragGroup=e,M.dragControls=new x.DragControls([M.dragGroup],i,n.domElement),M.dragControls.transformGroup=!1,M.dragControls.addEventListener("dragstart",a),M.dragControls.addEventListener("dragend",o),M.dragControls.addEventListener("drag",s),r.add(e),f()},t.state=M,t.submit=function(){var t=M.submitUrl+e();console.log("cart:",t),window.open(t,"_blank")},Object.defineProperty(t,"__esModule",{value:!0})});